<div class="shelf">
	<section>
		<!-- <div class="slide slide--video">
			<div id="video-controls">
				<button id="playpause" title="play" v-on:click="playVideo">Play</button>
			</div>
			<video
				muted
				loop
				:src="variantVideo.value"
				:id="`video-${shelfIndex}`"
			></video>
		</div> -->
		<div class="slide" :style="{position: 'relative'}">
			<video-player :source="variantVideo.value"></video-player>
		</div>
		<div
			class="slide"
			v-for="(slide, index) in variantImages"
			:style="{ backgroundImage: 'url(' + slide.value + ')' }"
		></div>
	</section>
	<aside class="shelf-buttons">
		<ul>
			<li>
				<nuxt-link :to="`/stores/${storeName}/cart`">
					<button class="btn btn--round">
						<icon name="cart" :original="true" width="26" height="26"></icon>
						<div v-if="cartItemsCount != 0" class="counter">
							{{ cartItemsCount }}
						</div>
					</button>
				</nuxt-link>
			</li>
			<li>
				<button
					class="btn btn--round"
					v-on:click="showShelfInfo = !showShelfInfo"
				>
					i
				</button>
			</li>
			<li>
				<button
					class="btn btn--round"
					v-on:click="showShelfSale = !showShelfSale"
				>
					SALE
				</button>
			</li>
		</ul>
	</aside>
	<footer class="shelf-footer">
		<shelf-title
			:price="shelf.price"
			:currency="shelf.currency"
			:title="shelf.productName"
		></shelf-title>
		<color-picker
			v-if="colors.length"
			:colors="colors"
			@changed-color="setColor"
		></color-picker>
		<size-picker
			v-if="sizes.length"
			:sizes="sizes"
			@changed-size="setSize"
		></size-picker>
		<add-to-cart
			:sku="variant"
			:price="shelf.price"
			:currency="shelf.currency"
			:colors="colors"
			:sizes="sizes"
		></add-to-cart>
	</footer>
	<transition name="shelf-overlay-bottom">
		<shelf-info
			v-if="showShelfInfo"
			:description="description"
			:returns="returnsPolicy"
			:shipping="shippingDetails"
			v-on:close-info="showShelfInfo = false"
		></shelf-info>
	</transition>
	<transition name="shelf-overlay-bottom">
		<shelf-sale
			v-if="showShelfSale"
			:shelf-sale="shelf.shelfSale"
			v-on:close-sale="showShelfSale = false"
		></shelf-sale>
	</transition>
	<div class="shelf-scrims">
		<div class="shelf-scrims--top"></div>
		<div class="shelf-scrims--bottom"></div>
	</div>
</div>
