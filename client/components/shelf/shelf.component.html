<div class="shelf">
	<!-- <div class="shelf-logo">
		<nuxt-link to="/profile">
			<img :src="logoSrc" :alt="`${storeSlug} Logo`" />
		</nuxt-link>
	</div> -->
	<contact-form
		v-if="shelfType === 'CONTACT_FORM'"
		:submitted="ctaClicked"
	></contact-form>
	<section class="assets" v-if="variantAssets.length > 0">
		<!-- <div v-if="variantVideo" class="slide" :style="{ position: 'relative' }">
			<video-player :source="variantVideo.value"></video-player>
		</div> -->

		<div v-swiper:assetsSwiper="swiperOption" dir="ltr">
			<div class="swiper-wrapper carousel">
				<div
					v-for="(asset, index)  in variantAssets"
					:key="index"
					:style="{ backgroundImage: 'url(' + asset + ')' }"
					class="swiper-slide slide"
				>
					<!-- {{asset}} -->
					<!-- <img :src="asset"> {{asset}} -->
				</div>
			</div>
			<div class="swiper-pagination"></div>
			<div class="shelf-scrims--top"></div>
		</div>
	</section>
	<!-- <div class="shelf-info-button">
		<button class="btn btn--round" v-on:click="showShelfInfo">
			<icon name="info" :original="true" width="18" height="18"></icon>
		</button>
	</div> -->

	<div class="shelf-footer">
		<attribute-picker
			v-for="(attribute, attributeKey) in variantProperties"
			:key="attributeKey"
			:attribute="attribute"
			:att-key="attributeKey"
			:selected-attribute="selectedProperty[attributeKey]"
			@changed-att="setAtt"
		></attribute-picker>

		<attribute-picker
			v-for="(attribute, attributeKey) in availableAttributes"
			:key="attributeKey"
			:attribute="attribute"
			:att-key="attributeKey"
			:selected-attribute="selectedAttributes[attributeKey]"
			@changed-att="setAtt"
		></attribute-picker>
		<shelf-title
			v-if="variant && variant.price"
			:price="variant.price"
			:currency="variant.currency"
			:title="shelfTitle"
			:info="shelf.info"
		></shelf-title>
		<div
			v-if="shelf.description && shelf.description.length > 0"
			class="shelf-description"
		>
			{{ shelf.description }}
		</div>
		<add-to-cart
			:variant="variant"
			:selected-attributes="selectedAttributes"
			:selected-property="selectedProperty"
			:shelf="shelf"
			@cta-clicked="ctaClickedHandle"
			:show-go-to-payment="showGoToPayment"
			@setGoToPayment="showGoToPayment = true;"
			@scrollTo="scrollTo"
		></add-to-cart>
	</div>
	<div v-if="hasScrims" class="shelf-scrims">
		<!-- <div class="shelf-scrims--top"></div> -->
		<div class="shelf-scrims--bottom"></div>
	</div>
</div>
